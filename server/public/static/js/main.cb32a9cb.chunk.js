(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,a){e.exports=a(236)},114:function(e,t,a){},132:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(43),o=a.n(l),s=a(6),c=a(7),i=a(10),u=a(8),m=a(9),h=a(19),d=(a(114),a(115),a(44)),b=a.n(d),g=function e(){var t=this;Object(s.a)(this,e),this.signup=function(e){var a=e.username,n=e.password;return t.service.post("/signup",{username:a,password:n}).then((function(e){return e.data}))},this.login=function(e){var a=e.username,n=e.password;return t.service.post("/login",{username:a,password:n}).then((function(e){return e.data}))},this.logout=function(){return t.service.post("/logout").then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/loggedin").then((function(e){return e.data}))},this.service=b.a.create({baseURL:"".concat("https://SlashDebt.herokuapp.com/api","/auth"),withCredentials:!0})},p=function e(){var t=this;Object(s.a)(this,e),this.getAllDebts=function(e){return t.service.get("/".concat(e,"/getAllDebts")).then((function(e){return e.data}))},this.getDebtDetails=function(e){return t.service.get("/getOneDebt/".concat(e)).then((function(e){return e.data}))},this.postDebt=function(e,a){return t.service.post("/".concat(e,"/new"),a).then((function(e){return e.data}))},this.deleteDebt=function(e,a){return t.service.delete("/".concat(e,"/delete/").concat(a)).then((function(e){return e.data}))},this.service=b.a.create({baseURL:"".concat("https://SlashDebt.herokuapp.com/api","/debts"),withCredentials:!0})},f=a(25),E=a(20),v=(a(132),a(24)),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).logout=function(){a.services.logout().then((function(e){a.props.setTheUser(!1),console.log("Logout successful")})).catch((function(e){return console.log(e)}))},a.state={},a.services=new g,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.loggedInUser&&r.a.createElement(r.a.Fragment,null,"Welcome ",this.props.loggedInUser.username);return this.props.loggedInUser?r.a.createElement(f.a,{className:"navbar-main",expand:"lg",variant:"dark"},r.a.createElement(f.a.Brand,null,"SlashDebt"),r.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(E.a,{className:"ml-auto"},r.a.createElement(E.a.Link,{as:"div"}," ",r.a.createElement(v.b,{to:"/",className:"navbar-title"},"Home")),r.a.createElement(E.a.Link,{as:"div"}," ",r.a.createElement(v.b,{to:"/allDebts",className:"navbar-title"},"Dashboard")),r.a.createElement(E.a.Link,{onClick:this.logout},"Log out"),r.a.createElement(E.a.Link,{className:"navbar-title"},e)))):r.a.createElement(f.a,{className:"navbar",expand:"lg",variant:"dark"},r.a.createElement(f.a.Brand,{href:"#home"},"SlashDebt"),r.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(E.a,{className:"ml-auto"},r.a.createElement(E.a.Link,{as:"div"}," ",r.a.createElement(v.b,{to:"/",className:"navbar-title"},"Home")),r.a.createElement(E.a.Link,{className:"navbar-title",as:"div"}," ",r.a.createElement(v.b,{to:"/signup",className:"navbar-title"},"Signup")),r.a.createElement(E.a.Link,{as:"div"}," ",r.a.createElement(v.b,{to:"/login",className:"navbar-title"},"Login")),r.a.createElement(E.a.Link,{as:"small",className:"navbar-title"},e))))}}]),t}(n.Component),C=a(27),O=(a(138),a(13)),j=a(30),D=a(48),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(C.a)({},n,r))},a.postUser=function(){a.services.signup(a.state).then((function(e){a.setState({username:"",password:""}),a.props.setTheUser(e)})).catch((function(e){return console.log({err:e})}))},a.handleSubmit=function(e){e.preventDefault(),a.postUser()},a.state={username:"",password:""},a.services=new g,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(D.a,{className:"container-div"},r.a.createElement("h1",null,"Sign up"),r.a.createElement(O.a,{onSubmit:this.handleSubmit},r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Password"),r.a.createElement(O.a.Control,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Password"),r.a.createElement(O.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(j.a,{className:"button-login",variant:"dark",type:"submit"},"Sign up")))}}]),t}(n.Component),U=(a(139),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(C.a)({},n,r))},a.postUser=function(){a.services.login(a.state).then((function(e){a.setState({username:"bob",password:"bob"}),a.props.setTheUser(e),a.props.history.push("/allDebts")})).catch((function(e){return console.log({err:e})}))},a.handleSubmit=function(e){e.preventDefault(),a.postUser()},a.state={username:"bob",password:"bob"},a.services=new g,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(D.a,{className:"container-div"},r.a.createElement("h1",null," Login "),r.a.createElement(O.a,{onSubmit:this.handleSubmit},r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null," Username ")," ",r.a.createElement(O.a.Control,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange})," ")," ",r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null," Password")," ",r.a.createElement(O.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})," "),r.a.createElement(j.a,{className:"button-login",variant:"dark",type:"submit"}," ","LogIn"," ")," ")," ")}}]),t}(n.Component)),N=a(50),S=a(51),w=(a(231),a(21)),L=a(54),T=function(e){var t=e.name,a=e.remaining,n=e.category,l=e.deleteButton,o=e.userId,s=e._id;e.minMonthlyPayment;return r.a.createElement(L.a,{defaultActiveKey:"0"},r.a.createElement(w.a,null,r.a.createElement(w.a.Header,null,r.a.createElement(L.a.Toggle,{className:"card-title",as:j.a,variant:"link",eventKey:"1"},r.a.createElement("h3",null,t),r.a.createElement("h4",null,"$ ",a),r.a.createElement("button",{type:"submit",onClick:function(e){return function(e){e.preventDefault(),l(o,s)}(e)}},"Delete"))),r.a.createElement(L.a.Collapse,{eventKey:"1"},r.a.createElement(w.a.Body,null,n))))},I=(a(232),function(e){var t=e.totalDebt,a=e.totalMinMonthlyPayment,n=e.color,l=e.text;return r.a.createElement(w.a,{className:"card-total",bg:n,text:"white"},r.a.createElement(w.a.Header,{className:"card-header"},r.a.createElement("h3",null,"TOTAL DEBT"),r.a.createElement("h2",null,"$",t)),r.a.createElement(w.a.Text,{className:"card-text"},r.a.createElement("h5",null,l),a&&r.a.createElement("h5",null,"$ ",a)))}),M=a(239),B=a(107),x=(a(233),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={debts:[],loggedInUser:null,doughnutDebts:[],doughnutDebtsLabels:[],lineDebts:[],lineDebtsLabels:[],totalMinMonthlyPayment:0,totalDebt:0},e.handleRemove=function(t,a){e.service.deleteDebt(t,a).then((function(){return e.mounted()}))},e.service=new p,e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"mounted",value:function(){var e=this;this.service.getAllDebts(this.props.loggedInUser._id).then((function(t){var a=[],n=[],r=0,l=0,o={};t.forEach((function(e,t){e.history.forEach((function(e,t){var a=e.amount;e.year;Object.keys(a).forEach((function(t,n){var r=t+e.year,l=o[r],s=a[t];o[r]=l?+o[r]+s:"0"}))}))})),t.forEach((function(e){r+=e.remaining,l+=e.minMonthlyPayment,a.push(e.remaining),n.push(e.name)})),e.setState(Object(N.a)({},e.state,{debts:t,doughnutDebts:a,doughnutDebtsLabels:n,totalDebt:r,totalMinMonthlyPayment:l,lineDebts:Object.values(o),lineDebtsLabels:Object.keys(o)}),(function(){}))}))}},{key:"componentDidMount",value:function(){this.mounted()}},{key:"componentDidUpdate",value:function(e,t){!e.loggedInUser._id&&this.props.loggedInUser._id&&this.mounted()}},{key:"render",value:function(){var e=this,t=this.state,a=t.totalDebt,n=t.totalMinMonthlyPayment,l=t.lineDebtsLabels,o=t.doughnutDebtsLabels,s=t.lineDebts,c=t.doughnutDebts;console.log(a);var i={labels:l,datasets:[{label:"My First dataset",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:s}]},u={labels:o,datasets:[{data:c,backgroundColor:["#FF6384","#36A2EB","#FFCE56","#009018","#00c5ff"],hoverBackgroundColor:["#d4395a","#3791ce","#dbaa31","#18872a","#0ca5d2"]}]};return r.a.createElement("div",{className:"dashboard-container"},r.a.createElement("div",{id:"debt-cards-container"},a?r.a.createElement(I,{totalDebt:a,className:"card-total",color:"danger",text:"TOTAL MONTHLY PAYMENTS",totalMinMonthlyPayment:n}):r.a.createElement(I,{totalDebt:a,className:"card-total",color:"success",text:"YOU ARE DEBT FREE"}),r.a.createElement(M.a,{className:"mb-3"},r.a.createElement(M.a.Prepend,null,r.a.createElement(M.a.Text,null,"$")),r.a.createElement(B.a,{"aria-label":"Amount (to the nearest dollar)"}),r.a.createElement(M.a.Append,null,r.a.createElement(M.a.Text,null,".00"))),this.state.debts.map((function(t){return r.a.createElement(T,Object.assign({key:t._id,userID:e.props.loggedInUser._id},t,{deleteButton:e.handleRemove}))})),r.a.createElement("a",{href:"/new"},r.a.createElement(w.a,{className:"add-debt-button",bg:"primary",text:"black"},r.a.createElement("h3",null,"ADD DEBT")))),r.a.createElement("div",{className:"container-charts"},r.a.createElement("div",{className:"top-chart"},r.a.createElement(S.a,{className:"div-doughnut",data:u})),r.a.createElement(S.b,{data:i})))}}]),t}(n.Component)),P=(a(234),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"background"}))}}]),t}(n.Component)),A=(a(235),function(e){var t=e.name,a=e.label,n=e.type,l=e.placeholder,o=e.inputChange;return r.a.createElement("div",{className:"form-field"},r.a.createElement("label",{className:"label"},a),r.a.createElement("input",{name:t,type:n,placeholder:l,onChange:o}))}),R=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{onClick:this.props.submit,type:"button"},this.props.info)}}]),t}(n.Component),H=function(e){function t(e){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.label,n=e.inputChange;return r.a.createElement("div",null,r.a.createElement("div",{className:"form-field"},r.a.createElement("label",{for:t},a),r.a.createElement("select",{id:t,name:t,form:t,onChange:n},this.props.categories.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))))}}]),t}(n.Component),F=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={name:"",entity:"",category:"Credit Card",interestRate:0,remaining:0,minMonthlyPayment:0,categories:["Credit Card","Car","Bank Loan","Student Loan","Healthcare","Retail"],redirect:!1},e.handleChange=function(t,a){e.setState(Object(N.a)({},e.state,Object(C.a)({},a,t.target.value)))},e.handleSubmit=function(t){t.preventDefault(),e.service.postDebt(e.props.loggedInUser._id,e.state).then((function(t){e.setState({redirect:!0}),console.log(t)}))},e.service=new p,e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.redirect,n=t.categories;return console.log(n),a?r.a.createElement(h.a,{to:"/allDebts"}):r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form-width"},r.a.createElement(A,{label:"Name debt",name:"name",type:"text",placeholder:"Debt Name",inputChange:function(t){return e.handleChange(t,"name")}}),r.a.createElement(A,{label:"Entity",name:"entity",type:"text",placeholder:"Entity",inputChange:function(t){return e.handleChange(t,"entity")}}),r.a.createElement(H,{label:"Category",name:"category",categories:["Credit Card","Car","Bank Loan","Student Loan","Healthcare","Retail"],inputChange:function(t){return e.handleChange(t,"category")}}),r.a.createElement(A,{label:"Interest Rate %",name:"interest",type:"number",placeholder:"APR",inputChange:function(t){return e.handleChange(t,"interestRate")}}),r.a.createElement(A,{label:"Debt Amount",name:"remaining",type:"number",placeholder:"$",inputChange:function(t){return e.handleChange(t,"remaining")}}),r.a.createElement(A,{label:"Minimum Payment",name:"minMonthlyPayment",type:"number",placeholder:"$",inputChange:function(t){return e.handleChange(t,"minMonthlyPayment")}}),r.a.createElement(R,{submit:function(t){return e.handleSubmit(t)},className:"",info:"Submit"})))}}]),t}(n.Component),_=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).componentDidUpdate=function(t,a){return console.log("El estado de App se ha actualizado:",e.state)},e.componentDidMount=function(){return e.fetchUser()},e.setTheUser=function(t){return e.setState({loggedInUser:t})},e.fetchUser=function(){e.loginServices.loggedin().then((function(t){return e.setState({loggedInUser:t})})).catch((function(){return e.setState({loggedInUser:!1})}))},e.state={loggedInUser:!1},e.loginServices=new g,e.debtServices=new p,e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{setTheUser:this.setTheUser,loggedInUser:this.state.loggedInUser}),r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/login",render:function(t){return r.a.createElement(U,Object.assign({setTheUser:e.setTheUser},t))}}),r.a.createElement(h.b,{path:"/signup",render:function(){return r.a.createElement(k,{setTheUser:e.setTheUser})}}),this.state.loggedInUser&&r.a.createElement(h.b,{exact:!0,path:"/allDebts",render:function(){return r.a.createElement(x,{loggedInUser:e.state.loggedInUser})}}),this.state.loggedInUser&&r.a.createElement(h.b,{exact:!0,path:"/new",render:function(){return r.a.createElement(F,{loggedInUser:e.state.loggedInUser})}}),r.a.createElement(h.b,{path:"/",render:function(){return r.a.createElement(P,{setTheUser:e.setTheUser})}})))}}]),t}(n.Component);o.a.render(r.a.createElement(v.a,null,r.a.createElement(_,null)),document.getElementById("root"))}},[[109,1,2]]]);
//# sourceMappingURL=main.cb32a9cb.chunk.js.map